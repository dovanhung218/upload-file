{"ast":null,"code":"var _jsxFileName = \"/Users/abc/Downloads/Workspace/c2i/image-text/c2i-convert/src/App.js\",\n  _s = $RefreshSig$();\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { useState, useEffect, Children } from \"react\";\nimport { createWorker } from \"tesseract.js\";\nimport { saveAs } from \"file-saver\";\nimport { AlignmentType, Document, HeadingLevel, Packer, Paragraph, TabStopPosition, TabStopType, TextRun } from \"docx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [ocr, setOcr] = useState(\"\");\n  const [imageData, setImageData] = useState(null);\n  const worker = createWorker({\n    logger: m => {\n      console.log(m);\n    }\n  });\n  const convertImageToText = async () => {\n    if (!imageData) return;\n    await worker.load();\n    await worker.loadLanguage(\"eng\");\n    await worker.initialize(\"eng\");\n    const {\n      data: {\n        text\n      }\n    } = await worker.recognize(imageData);\n    setOcr(text);\n  };\n  useEffect(() => {\n    convertImageToText();\n  }, [imageData]);\n  function handleImageChange(e) {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const imageDataUri = reader.result;\n      console.log({\n        imageDataUri\n      });\n      setImageData(imageDataUri);\n    };\n    reader.readAsDataURL(file);\n  }\n  // const SampleDocument = () => (\n  //   <Document>\n  //     <Text>Hello World</Text>\n  //   </Document>\n  // )\n  const createDocument = () => {\n    const document = new Document({\n      sections: [{\n        children: [new Paragraph({\n          text: \"Dolan Miu\",\n          heading: HeadingLevel.TITLE\n        }), ...educations.map(education => {\n          arr.push(this.createInstitutionHeader(education.schoolName, `${education.startDate.year} - ${education.endDate.year}`));\n          arr.push(this.createRoleText(`${education.fieldOfStudy} - ${education.degree}`));\n          const bulletPoints = this.splitParagraphIntoBullets(education.notes);\n          bulletPoints.forEach(bulletPoint => {\n            arr.push(this.createBullet(bulletPoint));\n          });\n          return arr;\n        }).reduce((prev, curr) => prev.concat(curr), []), this.createHeading(\"Experience\"), ...experiences.map(position => {\n          const arr = [];\n          arr.push(this.createInstitutionHeader(position.company.name, this.createPositionDateText(position.startDate, position.endDate, position.isCurrent)));\n          arr.push(this.createRoleText(position.title));\n          const bulletPoints = this.splitParagraphIntoBullets(position.summary);\n          bulletPoints.forEach(bulletPoint => {\n            arr.push(this.createBullet(bulletPoint));\n          });\n          return arr;\n        }).reduce((prev, curr) => prev.concat(curr), []), this.createHeading(\"Skills, Achievements and Interests\"), this.createSubHeading(\"Skills\"), this.createSkillList(skills), this.createSubHeading(\"Achievements\"), ...this.createAchivementsList(achivements), this.createSubHeading(\"Interests\"), this.createInterests(\"Programming, Technology, Music Production, Web Design, 3D Modelling, Dancing.\"), this.createHeading(\"References\"), new Paragraph(\"Dr. Dean Mohamedally Director of Postgraduate Studies Department of Computer Science, University College London Malet Place, Bloomsbury, London WC1E d.mohamedally@ucl.ac.uk\"), new Paragraph(\"More references upon request\"), new Paragraph({\n          text: \"This CV was generated in real-time based on my Linked-In profile from my personal website www.dolan.bio.\",\n          alignment: AlignmentType.CENTER\n        })]\n      }]\n    });\n    return document;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Choose an Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"\",\n        id: \"\",\n        onChange: handleImageChange,\n        accept: \"image/*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"display-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageData,\n        alt: \"\",\n        srcset: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: ocr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const doc = createDocument();\n          Packer.toBlob(doc).then(blob => {\n            console.log(blob);\n            saveAs(blob, \"example.docx\");\n            console.log(\"Document created successfully\");\n          });\n        },\n        children: \"generate doc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"XS/7OkSjeSWNT8LMHJaUSiiuRfk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","useState","useEffect","Children","createWorker","saveAs","AlignmentType","Document","HeadingLevel","Packer","Paragraph","TabStopPosition","TabStopType","TextRun","App","ocr","setOcr","imageData","setImageData","worker","logger","m","console","log","convertImageToText","load","loadLanguage","initialize","data","text","recognize","handleImageChange","e","file","target","files","reader","FileReader","onloadend","imageDataUri","result","readAsDataURL","createDocument","document","sections","children","heading","TITLE","educations","map","education","arr","push","createInstitutionHeader","schoolName","startDate","year","endDate","createRoleText","fieldOfStudy","degree","bulletPoints","splitParagraphIntoBullets","notes","forEach","bulletPoint","createBullet","reduce","prev","curr","concat","createHeading","experiences","position","company","name","createPositionDateText","isCurrent","title","summary","createSubHeading","createSkillList","skills","createAchivementsList","achivements","createInterests","alignment","CENTER","doc","toBlob","then","blob"],"sources":["/Users/abc/Downloads/Workspace/c2i/image-text/c2i-convert/src/App.js"],"sourcesContent":["import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { useState, useEffect, Children } from \"react\";\nimport { createWorker } from \"tesseract.js\";\nimport { saveAs } from \"file-saver\";\nimport {\n  AlignmentType,\n  Document,\n  HeadingLevel,\n  Packer,\n  Paragraph,\n  TabStopPosition,\n  TabStopType,\n  TextRun\n} from \"docx\";\nfunction App() {\n  const [ocr, setOcr] = useState(\"\");\n  const [imageData, setImageData] = useState(null);\n  const worker = createWorker({\n    logger: (m) => {\n      console.log(m);\n    },\n  });\n  const convertImageToText = async () => {\n    if (!imageData) return;\n    await worker.load();\n    await worker.loadLanguage(\"eng\");\n    await worker.initialize(\"eng\");\n    const {\n      data: { text },\n    } = await worker.recognize(imageData);\n    setOcr(text);\n  };\n  useEffect(() => {\n    convertImageToText();\n  }, [imageData]);\n\n  function handleImageChange(e) {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const imageDataUri = reader.result;\n      console.log({ imageDataUri });\n      setImageData(imageDataUri);\n    };\n    reader.readAsDataURL(file);\n  }\n  // const SampleDocument = () => (\n  //   <Document>\n  //     <Text>Hello World</Text>\n  //   </Document>\n  // )\nconst createDocument = ()=>{\n  const document = new Document({\n    sections: [\n      {\n        children: [\n          new Paragraph({\n            text: \"Dolan Miu\",\n            heading: HeadingLevel.TITLE\n          }),\n          ...educations\n            .map(education => {\n              arr.push(\n                this.createInstitutionHeader(\n                  education.schoolName,\n                  `${education.startDate.year} - ${education.endDate.year}`\n                )\n              );\n              arr.push(\n                this.createRoleText(\n                  `${education.fieldOfStudy} - ${education.degree}`\n                )\n              );\n\n              const bulletPoints = this.splitParagraphIntoBullets(\n                education.notes\n              );\n              bulletPoints.forEach(bulletPoint => {\n                arr.push(this.createBullet(bulletPoint));\n              });\n\n              return arr;\n            })\n            .reduce((prev, curr) => prev.concat(curr), []),\n          this.createHeading(\"Experience\"),\n          ...experiences\n            .map(position => {\n              const arr: Paragraph[] = [];\n\n              arr.push(\n                this.createInstitutionHeader(\n                  position.company.name,\n                  this.createPositionDateText(\n                    position.startDate,\n                    position.endDate,\n                    position.isCurrent\n                  )\n                )\n              );\n              arr.push(this.createRoleText(position.title));\n\n              const bulletPoints = this.splitParagraphIntoBullets(\n                position.summary\n              );\n\n              bulletPoints.forEach(bulletPoint => {\n                arr.push(this.createBullet(bulletPoint));\n              });\n\n              return arr;\n            })\n            .reduce((prev, curr) => prev.concat(curr), []),\n          this.createHeading(\"Skills, Achievements and Interests\"),\n          this.createSubHeading(\"Skills\"),\n          this.createSkillList(skills),\n          this.createSubHeading(\"Achievements\"),\n          ...this.createAchivementsList(achivements),\n          this.createSubHeading(\"Interests\"),\n          this.createInterests(\n            \"Programming, Technology, Music Production, Web Design, 3D Modelling, Dancing.\"\n          ),\n          this.createHeading(\"References\"),\n          new Paragraph(\n            \"Dr. Dean Mohamedally Director of Postgraduate Studies Department of Computer Science, University College London Malet Place, Bloomsbury, London WC1E d.mohamedally@ucl.ac.uk\"\n          ),\n          new Paragraph(\"More references upon request\"),\n          new Paragraph({\n            text:\n              \"This CV was generated in real-time based on my Linked-In profile from my personal website www.dolan.bio.\",\n            alignment: AlignmentType.CENTER\n          })\n        ]\n      }\n    ]\n  });\n\n  return document;\n}\n  return (\n    <div className=\"App\">\n      <div>\n        <p>Choose an Image</p>\n        <input\n          type=\"file\"\n          name=\"\"\n          id=\"\"\n          onChange={handleImageChange}\n          accept=\"image/*\"\n        />\n      </div>\n      <div className=\"display-flex\">\n        <img src={imageData} alt=\"\" srcset=\"\" />\n        <p>{ocr}</p>\n        <button\n          onClick={() => {\n            const doc =createDocument()\n\n            Packer.toBlob(doc).then((blob) => {\n              console.log(blob);\n              saveAs(blob, \"example.docx\");\n              console.log(\"Document created successfully\");\n            });\n          }}\n        >\n          generate doc\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}